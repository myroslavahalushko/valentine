{"ast":null,"code":"import _toConsumableArray from\"C:/MyGovnoCod/valentine/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:/MyGovnoCod/valentine/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import logo from\"./hearts/heart.svg\";import'./App.css';import{useState,useEffect,useCallback}from\"react\";import song1 from'./song.m4a';import song2 from'./song2.mp3';import useSound from'use-sound';import heart1 from'./hearts/heart1.png';import heart2 from'./hearts/heart2.png';import heart3 from'./hearts/heart3.png';import heart4 from'./hearts/heart4.png';import heart5 from'./hearts/heart5.png';import heart6 from'./hearts/heart6.png';import heart7 from'./hearts/heart7.png';import heart8 from'./hearts/heart8.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var gameLevels={1:{score:0,img:heart1},2:{score:60,img:heart2},3:{score:120,img:heart3},4:{score:228,img:heart4},5:{score:322,img:heart5},6:{score:470,img:heart6},7:{score:520,img:heart7},8:{score:666,img:heart8}};function getWindowDimensions(){var _window=window,width=_window.innerWidth,height=_window.innerHeight;return{width:width,height:height};}function useWindowDimensions(){var _useState=useState(getWindowDimensions()),_useState2=_slicedToArray(_useState,2),windowDimensions=_useState2[0],setWindowDimensions=_useState2[1];useEffect(function(){function handleResize(){setWindowDimensions(getWindowDimensions());}window.addEventListener('resize',handleResize);return function(){return window.removeEventListener('resize',handleResize);};},[]);return windowDimensions;}var Hearts=function Hearts(_ref){var x=_ref.x,y=_ref.y,level=_ref.level;var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),littleHearts=_useState4[0],setLittleHearts=_useState4[1];var _useState5=useState(gameLevels[1].img),_useState6=_slicedToArray(_useState5,2),image=_useState6[0],setImage=_useState6[1];var createArray=function createArray(){var rand=Math.floor(Math.random()*5+1);var array=[];for(var i=0;i<rand;i++){array.push({top:Math.floor(Math.random()*12-12)*10,left:Math.floor(Math.random()*12-12)*10});}return array;};useEffect(function(){setImage(gameLevels[level].img);setLittleHearts(createArray());},[]);return/*#__PURE__*/_jsx(_Fragment,{children:littleHearts.map(function(h){return/*#__PURE__*/_jsx(\"img\",{src:image,alt:\"logo\",className:\"littleHearts littleHeartsAnimate\",style:{top:y+h.top,left:x+h.left}});})});};function App(){var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),heartBeat=_useState8[0],setHeartBeat=_useState8[1];var _useWindowDimensions=useWindowDimensions(),height=_useWindowDimensions.height,width=_useWindowDimensions.width;var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),score=_useState10[0],setScore=_useState10[1];var _useState11=useState(1),_useState12=_slicedToArray(_useState11,2),level=_useState12[0],setLevel=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),littleHearts=_useState14[0],setLittleHearts=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),darkMode=_useState16[0],setDarkMode=_useState16[1];var _useState17=useState(song2),_useState18=_slicedToArray(_useState17,2),songUrl=_useState18[0],setSongUrl=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),win=_useState20[0],setWin=_useState20[1];var _useSound=useSound(songUrl),_useSound2=_slicedToArray(_useSound,2),play=_useSound2[0],pause=_useSound2[1].pause;var onClickHeart=function onClickHeart(){setHeartBeat(!heartBeat);!heartBeat?play():pause();};var addHearts=useCallback(function(e){e.preventDefault();if(e.screenX>width/2-150&&e.screenX<width/2+150&&e.screenY>height/2-150&&e.screenY<height/2+150&&e.screenX<190&&e.screenY<70)return;setLittleHearts(function(prev){return[].concat(_toConsumableArray(prev),[{x:e.screenX,y:e.screenY}]);});setScore(function(score){return score+1;});if(score<3){if(score==gameLevels[level+1].score){setLevel(level+1);}}else{if(!win){var result=prompt(\"Ошибка! Успех!\",[\"PS: ***\"]);setWin(true);if(result===\"муп\"){setHeartBeat(false);pause();setSongUrl(song1);}else{alert(\"Гррр\");}}}},[littleHearts]);return/*#__PURE__*/_jsxs(\"div\",{className:darkMode?\"AppDark\":\"AppLight\",onClick:addHearts,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"score\",onClick:function onClick(){return setDarkMode(!darkMode);},children:[\"Score: \",score]}),/*#__PURE__*/_jsx(\"div\",{className:heartBeat?\"heartBlock heartAnimate\":\"heartBlock\",onClick:onClickHeart,children:/*#__PURE__*/_jsx(\"img\",{src:logo,className:\"heart\",alt:\"logo\"})}),littleHearts.map(function(h){return/*#__PURE__*/_jsx(Hearts,{x:h.x,y:h.y,level:level});})]});}export default App;","map":{"version":3,"sources":["C:/MyGovnoCod/valentine/src/App.js"],"names":["useState","useEffect","useCallback","song1","song2","useSound","heart1","heart2","heart3","heart4","heart5","heart6","heart7","heart8","gameLevels","score","img","getWindowDimensions","window","width","innerWidth","height","innerHeight","useWindowDimensions","windowDimensions","setWindowDimensions","handleResize","addEventListener","removeEventListener","Hearts","x","y","level","littleHearts","setLittleHearts","image","setImage","createArray","rand","Math","floor","random","array","i","push","top","left","map","h","App","heartBeat","setHeartBeat","setScore","setLevel","darkMode","setDarkMode","songUrl","setSongUrl","win","setWin","play","pause","onClickHeart","addHearts","e","preventDefault","screenX","screenY","prev","result","prompt","alert","logo"],"mappings":"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","sourcesContent":["import logo from './hearts/heart.svg';\nimport './App.css';\nimport {useState, useEffect, useCallback} from \"react\";\nimport song1 from './song.m4a';\nimport song2 from './song2.mp3';\nimport useSound from 'use-sound';\nimport heart1 from './hearts/heart1.png';\nimport heart2 from './hearts/heart2.png';\nimport heart3 from './hearts/heart3.png';\nimport heart4 from './hearts/heart4.png';\nimport heart5 from './hearts/heart5.png';\nimport heart6 from './hearts/heart6.png';\nimport heart7 from './hearts/heart7.png';\nimport heart8 from './hearts/heart8.png';\n\n\nlet gameLevels = {\n   1: {\n       score: 0,\n       img: heart1\n   },\n    2: {\n       score: 60,\n        img: heart2\n    },\n    3: {\n        score: 120,\n        img: heart3\n    },\n    4: {\n        score: 228,\n        img: heart4\n    },\n    5: {\n        score: 322,\n        img: heart5\n    },\n    6: {\n        score: 470,\n        img: heart6\n    },\n    7: {\n        score: 520,\n        img: heart7\n    },\n    8: {\n        score: 666,\n        img: heart8\n    },\n\n}\n\nfunction getWindowDimensions() {\n    const { innerWidth: width, innerHeight: height } = window;\n    return {\n        width,\n        height\n    };\n}\n\nfunction useWindowDimensions() {\n    const [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\n\n    useEffect(() => {\n        function handleResize() {\n            setWindowDimensions(getWindowDimensions());\n        }\n\n        window.addEventListener('resize', handleResize);\n        return () => window.removeEventListener('resize', handleResize);\n    }, []);\n\n    return windowDimensions;\n}\n\n\nconst Hearts = ({x, y, level}) => {\n    const [littleHearts, setLittleHearts] = useState([]);\n    const [image, setImage] = useState(gameLevels[1].img);\n    const createArray = () => {\n        let rand = Math.floor(Math.random()*5+1);\n        let array = [];\n        for(let i = 0; i < rand; i++) {\n            array.push(\n                {\n                    top: Math.floor(Math.random()*12-12)*10,\n                    left: Math.floor(Math.random()*12-12)*10,\n                }\n            );\n        }\n        return array\n    }\n    useEffect(() => {\n        setImage(gameLevels[level].img)\n        setLittleHearts(createArray());\n\n    }, []);\n    return (\n        <>\n            {littleHearts.map((h) =>  <img\n                           src={image} alt=\"logo\"\n                           className={`littleHearts littleHeartsAnimate`}\n                           style={{top: y+h.top, left: x+h.left}}\n                    />\n            )}\n        </>\n)\n}\n\nfunction App() {\n    const [heartBeat, setHeartBeat] = useState(false);\n    const { height, width } = useWindowDimensions();\n    const [score, setScore] = useState(0);\n    const [level, setLevel] = useState(1);\n    const [littleHearts, setLittleHearts] = useState([]);\n    const [darkMode, setDarkMode] = useState(false);\n    const [songUrl, setSongUrl] = useState(song2);\n    const [win, setWin] = useState(false);\n\n    const [play, { pause }] = useSound(songUrl);\n    \n    const onClickHeart = () => {\n        setHeartBeat(!heartBeat);\n        !heartBeat ? play() : pause();\n    }\n\n    const addHearts = useCallback((e) => {\n        e.preventDefault();\n        if ((e.screenX > (width/2-150) && e.screenX < (width/2+150)) \n        && (e.screenY > (height/2-150) && e.screenY < (height/2+150)) \n        && ((e.screenX < (190) && e.screenY < (70)))) return\n\n        setLittleHearts((prev) => {\n            return [...prev, {\n                x: e.screenX,\n                y: e.screenY,\n\n            }]\n        });\n        setScore((score) => score+1);\n        if(score < 3) {\n            if(score == gameLevels[level+1].score) {\n                setLevel(level+1);\n            }\n        } else {\n            if(!win) {\n                let result = prompt(\"Ошибка! Успех!\", [\"PS: ***\"]);\n                setWin(true);\n                if(result === \"муп\") {\n                    setHeartBeat(false);\n                    pause();\n                    setSongUrl(song1);\n                } else {\n                    alert(\"Гррр\");\n                }\n            }\n        }\n\n    }, [littleHearts])\n\n    return (\n        <div className={darkMode ? \"AppDark\" : \"AppLight\"} onClick={addHearts}>\n            <div className=\"score\" onClick={() => setDarkMode(!darkMode)}>Score: {score}</div>\n            <div className={ heartBeat ? \"heartBlock heartAnimate\" : \"heartBlock\"}\n                 onClick={onClickHeart}\n            >\n                <img src={logo} className=\"heart\" alt=\"logo\" />\n            </div>\n            {littleHearts.map(h => <Hearts x={h.x} y={h.y} level={level}  />)}\n        </div>\n    );\n}\n\n\n\nexport default App;\n\n"]},"metadata":{},"sourceType":"module"}